{"version":1,"ops":[{"type":3,"author":{"name":"Michael Muré","email":"","login":"MichaelMure","avatar_url":"https://avatars1.githubusercontent.com/u/294669?v=4"},"timestamp":1538667810,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDQyNzA2ODE4NQ=="},"message":"My thought on this:\n\n- the good end game way to have properly defined colors for each label would be to have a git-bug config where admins could define various properties including what label exist and their colors, define what status exist for a bug and how you can transition from one status to another ... but we are not there yet\n- there is already in the webUI some code to assign arbitrary colors to a label (https://github.com/MichaelMure/git-bug/blob/master/webui/src/Label.js#L10-L43)\n\nMy proposal:\n1. migrate the webui color code into the core. That way, a label will have the same color in all UIs, will get simpler and the core APIs will be ready for the end game\n2. when we have the code to define the config, we will just have to plug that in the core and we will have either automatic label colors or configured labels if users care enough to define them.","files":null},{"type":3,"author":{"name":"Jed Fox","email":"git@twopointzero.us","login":"j-f1","avatar_url":"https://avatars2.githubusercontent.com/u/25517624?v=4"},"timestamp":1538668479,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDQyNzA3MjIyNw=="},"message":"For the termui, there needs to be a fallback for the colors since some terminals only support 16 or 256 colors.","files":null},{"type":3,"author":{"name":"Michael Muré","email":"","login":"MichaelMure","avatar_url":"https://avatars1.githubusercontent.com/u/294669?v=4"},"timestamp":1538671433,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDQyNzA4ODg1Ng=="},"message":"@j-f1 good point. That should be fairly easy to reduce the color precision to 16 or 8bits. I'm a bit confused as to how one is supposed to detect the terminal capabilities. I have the same question for how to detect the terminal size btw.","files":null},{"type":3,"author":{"name":"Jed Fox","email":"git@twopointzero.us","login":"j-f1","avatar_url":"https://avatars2.githubusercontent.com/u/25517624?v=4"},"timestamp":1538673855,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDQyNzEwMjAxNw=="},"message":"Here’s a series of checks (in JavaScript, from the `supports-color` module) that determine the level of color support. Please @mention me if you have any questions about what it’s doing:\n\n```js\nif (env.COLORTERM === 'truecolor') {\n  return 3;\n}\n\n\nif ('TERM_PROGRAM' in env) {\n  const version = parseInt((env.TERM_PROGRAM_VERSION || '').split('.')[0], 10);\n\n\n  switch (env.TERM_PROGRAM) {\n    case 'iTerm.app':\n      return version \u003e= 3 ? 3 : 2;\n    case 'Apple_Terminal':\n      return 2;\n    // No default\n  }\n}\n\n\nif (/-256(color)?$/i.test(env.TERM)) {\n  return 2;\n}\n\n\nif (/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(env.TERM)) {\n  return 1;\n}\n\n\nif ('COLORTERM' in env) {\n  return 1;\n}\n\n\nif (env.TERM === 'dumb') {\n  return min;\n}\n```\n\u003csup\u003e[source](https://github.com/chalk/supports-color/blob/c94d6c51f60759f72a93d7c73c99e18dae995d73/index.js#L87-L117)\u003c/sup\u003e","files":null},{"type":3,"author":{"name":"Michael Muré","email":"","login":"MichaelMure","avatar_url":"https://avatars1.githubusercontent.com/u/294669?v=4"},"timestamp":1538730144,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDQyNzI5NTU1OQ=="},"message":"@j-f1 Thanks\n\nMore info on the subject: https://gist.github.com/XVilka/8346728\n\nI found a go implementation: https://github.com/xo/terminfo/blob/master/color.go#L49-L91","files":null},{"type":5,"author":{"name":"Michael Muré","email":"","login":"MichaelMure","avatar_url":"https://avatars1.githubusercontent.com/u/294669?v=4"},"timestamp":1538906835,"metadata":{"github-id":"MDEyOkxhYmVsZWRFdmVudDE4ODg5MzczNjA="},"added":["enhancement"],"removed":null}]}